/*! For license information please see 452.js.LICENSE.txt */
"use strict";(self.webpackChunkPluginTemplateFunctional=self.webpackChunkPluginTemplateFunctional||[]).push([[452],{20:(e,t,r)=>{var n=r(594),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,a={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,n)&&!s.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:l,props:a,_owner:c.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],u=n.base?s[0]+n.base:s[0],l=a[u]||0,f="".concat(u," ").concat(l);a[u]=l+1;var p=r(f),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var d=o(h,n);n.byIndex=c,t.splice(c,0,{identifier:f,updater:d,references:1})}i.push(f)}return i}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var a=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=r(a[i]);t[c].references--}for(var s=n(e,o),u=0;u<a.length;u++){var l=r(a[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=s}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(e,r,n,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);n&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},375:(e,t,r)=>{r.d(t,{M1:()=>h,Sz:()=>a,E3:()=>g,t0:()=>s,DP:()=>o});var n=r(594);function o(e,t){var r=(0,n.useState)("light"),o=r[0],a=r[1],i=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(e)return function(){try{var r=t?t.safeSync(function(){return e.getCurrentTheme()},"light"):e.getCurrentTheme();a(r),i.current=function(e){t?t.safeSync(function(){return a(e)}):a(e)},e.addThemeChangeListener(i.current),console.log("useTheme: Theme service initialized")}catch(e){console.error("useTheme: Failed to initialize theme service:",e)}}(),function(){if(e&&i.current)try{e.removeThemeChangeListener(i.current),i.current=null,console.log("useTheme: Theme service cleaned up")}catch(e){console.error("useTheme: Failed to cleanup theme service:",e)}};console.warn("useTheme: Theme service not available")},[e,t]),{currentTheme:o,setTheme:(0,n.useCallback)(function(t){if(e)try{e.setTheme(t)}catch(e){console.error("useTheme: Failed to set theme:",e)}else console.warn("useTheme: Cannot set theme - service not available")},[e]),toggleTheme:(0,n.useCallback)(function(){if(e)try{e.toggleTheme()}catch(e){console.error("useTheme: Failed to toggle theme:",e)}else console.warn("useTheme: Cannot toggle theme - service not available")},[e]),isAvailable:!!e}}function a(e,t){var r=(0,n.useState)(null),o=r[0],a=r[1],i=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(e)return function(){try{var r=t?t.safeSync(function(){return e.getCurrentPageContext()},null):e.getCurrentPageContext();a(r),i.current=e.onPageContextChange(function(e){t?t.safeSync(function(){a(e),console.log("usePageContext: Page context changed:",e)}):(a(e),console.log("usePageContext: Page context changed:",e))}),console.log("usePageContext: Page context service initialized")}catch(e){console.error("usePageContext: Failed to initialize:",e)}}(),function(){if(i.current)try{i.current(),i.current=null,console.log("usePageContext: Page context service cleaned up")}catch(e){console.error("usePageContext: Failed to cleanup:",e)}};console.warn("usePageContext: Page context service not available")},[e,t]),{pageContext:o,isAvailable:!!e,isStudioPage:(null==o?void 0:o.isStudioPage)||!1,pageId:(null==o?void 0:o.pageId)||null,pageName:(null==o?void 0:o.pageName)||null,pageRoute:(null==o?void 0:o.pageRoute)||null}}var i=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function c(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,c)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};function s(e,t,r,o){var a=this,s=(0,n.useState)(r),u=s[0],l=s[1],f=(0,n.useState)(!1),p=f[0],h=f[1],d=(0,n.useState)(null),v=d[0],g=d[1];(0,n.useEffect)(function(){e&&t&&i(a,void 0,void 0,function(){var r,n,o,a;return c(this,function(i){switch(i.label){case 0:h(!0),g(null),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,null===(a=e.getSetting)||void 0===a?void 0:a.call(e,t)];case 2:return null!=(r=i.sent())&&l(r),console.log("useSettings: Loaded setting '".concat(t,"':"),r),[3,5];case 3:return n=i.sent(),o="Failed to load setting '".concat(t,"'"),console.error("useSettings:",o,n),g(o),[3,5];case 4:return h(!1),[7];case 5:return[2]}})})},[e,t]);var y=(0,n.useCallback)(function(r){return i(a,void 0,void 0,function(){var n,o,a;return c(this,function(i){switch(i.label){case 0:if(!e||!t)return console.warn("useSettings: Cannot update - service or key not available"),[2,!1];h(!0),g(null),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,null===(a=e.setSetting)||void 0===a?void 0:a.call(e,t,r)];case 2:return i.sent(),l(r),console.log("useSettings: Updated setting '".concat(t,"':"),r),[2,!0];case 3:return n=i.sent(),o="Failed to save setting '".concat(t,"'"),console.error("useSettings:",o,n),g(o),[2,!1];case 4:return h(!1),[7];case 5:return[2]}})})},[e,t]),b=(0,n.useCallback)(function(t){return i(a,void 0,void 0,function(){var r,n;return c(this,function(o){switch(o.label){case 0:if(!e)throw new Error("Settings service not available");o.label=1;case 1:return o.trys.push([1,3,,4]),[4,null===(n=e.getSetting)||void 0===n?void 0:n.call(e,t)];case 2:return[2,o.sent()];case 3:throw r=o.sent(),console.error("useSettings: Failed to get setting '".concat(t,"':"),r),r;case 4:return[2]}})})},[e]),m=(0,n.useCallback)(function(t,r){return i(a,void 0,void 0,function(){var n,o;return c(this,function(a){switch(a.label){case 0:if(!e)return console.warn("useSettings: Settings service not available"),[2,!1];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,null===(o=e.setSetting)||void 0===o?void 0:o.call(e,t,r)];case 2:return a.sent(),console.log("useSettings: Set setting '".concat(t,"':"),r),[2,!0];case 3:return n=a.sent(),console.error("useSettings: Failed to set setting '".concat(t,"':"),n),[2,!1];case 4:return[2]}})})},[e]);return{value:u,setValue:y,isLoading:p,error:v,isAvailable:!!e,getSetting:b,setSetting:m}}var u=r(617),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},f=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function c(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,c)}s((n=n.apply(e,t||[])).next())})},p=function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};function h(e,t){var r=this,o=(0,n.useState)({data:null,loading:!1,error:null}),a=o[0],i=o[1],c=function(e){i(function(t){return l(l({},t),{loading:e})})},s=function(e){i({data:e,loading:!1,error:null})},h=function(e){i(function(t){return l(l({},t),{loading:!1,error:e})})},d=function(){i(function(e){return l(l({},e),{error:null})})},v=(0,n.useCallback)(function(t,n){return f(r,void 0,void 0,function(){var r,o,a,i;return p(this,function(l){switch(l.label){case 0:if(!e)return h("API service not available"),[2,null];c(!0),d(),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,e.get(t,n)];case 2:if(!(r=l.sent())||"object"!=typeof r)throw new u.Dr("Invalid response format",void 0,t);return o=r.data,s(o),[2,o];case 3:return a=l.sent(),i="GET ".concat(t," failed: ").concat(a instanceof Error?a.message:"Unknown error"),console.error("useAPI:",i,a),h(i),[2,null];case 4:return[2]}})})},[e]),g=(0,n.useCallback)(function(t,n,o){return f(r,void 0,void 0,function(){var r,a,i,l;return p(this,function(f){switch(f.label){case 0:if(!e)return h("API service not available"),[2,null];c(!0),d(),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,e.post(t,n,o)];case 2:if(!(r=f.sent())||"object"!=typeof r)throw new u.Dr("Invalid response format",void 0,t);return a=r.data,s(a),[2,a];case 3:return i=f.sent(),l="POST ".concat(t," failed: ").concat(i instanceof Error?i.message:"Unknown error"),console.error("useAPI:",l,i),h(l),[2,null];case 4:return[2]}})})},[e]),y=(0,n.useCallback)(function(t,n,o){return f(r,void 0,void 0,function(){var r,a,i,l;return p(this,function(f){switch(f.label){case 0:if(!e)return h("API service not available"),[2,null];c(!0),d(),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,e.put(t,n,o)];case 2:if(!(r=f.sent())||"object"!=typeof r)throw new u.Dr("Invalid response format",void 0,t);return a=r.data,s(a),[2,a];case 3:return i=f.sent(),l="PUT ".concat(t," failed: ").concat(i instanceof Error?i.message:"Unknown error"),console.error("useAPI:",l,i),h(l),[2,null];case 4:return[2]}})})},[e]),b=(0,n.useCallback)(function(t,n){return f(r,void 0,void 0,function(){var r,o;return p(this,function(a){switch(a.label){case 0:if(!e)return h("API service not available"),[2,!1];c(!0),d(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.delete(t,n)];case 2:return a.sent(),i({data:null,loading:!1,error:null}),[2,!0];case 3:return r=a.sent(),o="DELETE ".concat(t," failed: ").concat(r instanceof Error?r.message:"Unknown error"),console.error("useAPI:",o,r),h(o),[2,!1];case 4:return[2]}})})},[e]),m=(0,n.useCallback)(function(t,n,o,a){return f(r,void 0,void 0,function(){var r,i,u,l;return p(this,function(f){switch(f.label){case 0:if(!e||!e.postStreaming)return h("Streaming API not available"),[2,null];c(!0),d(),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,e.postStreaming(t,n,o,a)];case 2:return r=f.sent(),i=r.data,s(i),[2,i];case 3:return u=f.sent(),l="POST (streaming) ".concat(t," failed: ").concat(u instanceof Error?u.message:"Unknown error"),console.error("useAPI:",l,u),h(l),[2,null];case 4:return[2]}})})},[e]);return{data:a.data,loading:a.loading,error:a.error,isAvailable:!!e,get:v,post:g,put:y,delete:b,postStreaming:m,clearError:d,setData:s,setError:h}}var d=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function c(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,c)}s((n=n.apply(e,t||[])).next())})},v=function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};function g(e,t,r){var o=this;void 0===r&&(r=!0);var a=(0,n.useState)(null),i=a[0],c=a[1],s=(0,n.useState)(!1),l=s[0],f=s[1],p=(0,n.useState)(null),h=p[0],g=p[1],y=(0,n.useRef)(!0),b=!!e;(0,n.useEffect)(function(){e&&r&&d(o,void 0,void 0,function(){var r,n,o;return v(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,3,4]),f(!0),g(null),[4,e.getState()];case 1:return r=a.sent(),y.current&&c(r),[3,4];case 2:return n=a.sent(),o=(null==n?void 0:n.message)||"Failed to load plugin state",y.current&&g(o),t&&t.handleError(n,u.Kk.RETRY,u.MU.MEDIUM),[3,4];case 3:return y.current&&f(!1),[7];case 4:return[2]}})})},[e,r,t]),(0,n.useEffect)(function(){if(e){var t=[];if(e.onSave){var r=e.onSave(function(e){y.current&&c(e)});t.push(r)}if(e.onRestore){var n=e.onRestore(function(e){y.current&&c(e)});t.push(n)}if(e.onClear){var o=e.onClear(function(){y.current&&c(null)});t.push(o)}return function(){t.forEach(function(e){return e()})}}},[e]);var m=(0,n.useCallback)(function(r){return d(o,void 0,void 0,function(){var n,o;return v(this,function(a){switch(a.label){case 0:if(!e)return g(o="PluginState service is not available"),t&&t.handleError(new Error(o),u.Kk.FALLBACK,u.MU.HIGH),[2];a.label=1;case 1:return a.trys.push([1,3,4,5]),f(!0),g(null),[4,e.saveState(r)];case 2:return a.sent(),y.current&&c(r),[3,5];case 3:throw n=a.sent(),o=(null==n?void 0:n.message)||"Failed to save plugin state",y.current&&g(o),t&&t.handleError(n,u.Kk.RETRY,u.MU.HIGH),n;case 4:return y.current&&f(!1),[7];case 5:return[2]}})})},[e,t]),w=(0,n.useCallback)(function(){return d(o,void 0,void 0,function(){var r,n;return v(this,function(o){switch(o.label){case 0:if(!e)return g(n="PluginState service is not available"),t&&t.handleError(new Error(n),u.Kk.FALLBACK,u.MU.MEDIUM),[2];o.label=1;case 1:return o.trys.push([1,3,4,5]),f(!0),g(null),[4,e.clearState()];case 2:return o.sent(),y.current&&c(null),[3,5];case 3:throw r=o.sent(),n=(null==r?void 0:r.message)||"Failed to clear plugin state",y.current&&g(n),t&&t.handleError(r,u.Kk.RETRY,u.MU.MEDIUM),r;case 4:return y.current&&f(!1),[7];case 5:return[2]}})})},[e,t]);return(0,n.useEffect)(function(){return y.current=!0,function(){y.current=!1}},[]),{state:i,isLoading:l,error:h,saveState:m,clearState:w,isAvailable:b}}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},617:(e,t,r)=>{r.d(t,{Dr:()=>h,Kk:()=>a,MU:()=>o,cZ:()=>l,o4:()=>v,zc:()=>d});var n,o,a,i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},s=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function c(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,c)}s((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},l=function(e){function t(r,n,o,a){void 0===n&&(n="PLUGIN_ERROR"),void 0===a&&(a=!0);var i=e.call(this,r)||this;return i.name="PluginError",i.code=n,i.details=o,i.timestamp=(new Date).toISOString(),i.recoverable=a,Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return i(t,e),t.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,details:this.details,timestamp:this.timestamp,recoverable:this.recoverable,stack:this.stack}},t}(Error),f=function(e){function t(t,r,n,o,a){void 0===n&&(n="SERVICE_ERROR"),void 0===a&&(a=!0);var i=e.call(this,t,n,o,a)||this;return i.name="ServiceError",i.service=r,i}return i(t,e),t.prototype.toJSON=function(){return c(c({},e.prototype.toJSON.call(this)),{service:this.service})},t}(l),p=function(e){function t(t,r,n,o){void 0===o&&(o="VALIDATION_ERROR");var a=e.call(this,t,o,{field:r,value:n},!1)||this;return a.name="ValidationError",a.field=r,a.value=n,a}return i(t,e),t.prototype.toJSON=function(){return c(c({},e.prototype.toJSON.call(this)),{field:this.field,value:this.value})},t}(l),h=(function(e){function t(t,r,n){void 0===n&&(n="CONFIG_ERROR");var o=e.call(this,t,n,{configKey:r},!1)||this;return o.name="ConfigurationError",o.configKey=r,o}i(t,e),t.prototype.toJSON=function(){return c(c({},e.prototype.toJSON.call(this)),{configKey:this.configKey})}}(l),function(e){function t(t,r,n,o){void 0===o&&(o="NETWORK_ERROR");var a=e.call(this,t,"network",o,{status:r,url:n},!0)||this;return a.name="NetworkError",a.status=r,a.url=n,a}return i(t,e),t.prototype.toJSON=function(){return c(c({},e.prototype.toJSON.call(this)),{status:this.status,url:this.url})},t}(f));!function(e){e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical"}(o||(o={})),function(e){e.RETRY="retry",e.FALLBACK="fallback",e.IGNORE="ignore",e.ESCALATE="escalate",e.USER_ACTION="user_action"}(a||(a={}));var d=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.errorCounts=new Map,this.config=c({maxRetries:3,retryDelay:1e3,enableLogging:!0,enableReporting:!0,userNotification:!0},e),this.context=t}return e.prototype.handleError=function(e){return s(this,arguments,void 0,function(e,t,r){var n,i;return void 0===t&&(t=a.RETRY),void 0===r&&(r=o.MEDIUM),u(this,function(o){switch(o.label){case 0:return n=this.getErrorKey(e),i=this.errorCounts.get(n)||0,this.config.enableLogging&&this.logError(e,r,i),this.config.enableReporting?[4,this.reportError(e,r)]:[3,2];case 1:o.sent(),o.label=2;case 2:switch(this.errorCounts.set(n,i+1),t){case a.RETRY:return[2,this.handleRetryStrategy(e,i)];case a.FALLBACK:return[2,this.handleFallbackStrategy(e)];case a.IGNORE:return[2,this.handleIgnoreStrategy(e)];case a.ESCALATE:return[2,this.handleEscalateStrategy(e,r)];case a.USER_ACTION:return[2,this.handleUserActionStrategy(e)];default:return[2,{handled:!1}]}return[2]}})})},e.prototype.handleRetryStrategy=function(e,t){return s(this,void 0,void 0,function(){var r;return u(this,function(n){switch(n.label){case 0:return r=this.config.maxRetries||3,t<r?(console.log("ðŸ”„ Retrying operation (attempt ".concat(t+1,"/").concat(r,")")),this.config.retryDelay?[4,this.delay(this.config.retryDelay*Math.pow(2,t))]:[3,2]):[3,3];case 1:n.sent(),n.label=2;case 2:return[2,{handled:!0,shouldRetry:!0}];case 3:return console.error("âŒ Max retries (".concat(r,") exceeded for error:"),e),[2,{handled:!1,shouldRetry:!1}]}})})},e.prototype.handleFallbackStrategy=function(e){var t;console.log("ðŸ”„ Using fallback strategy for error:",e.message);var r=e.constructor.name.toLowerCase();return{handled:!0,result:(null===(t=this.config.fallbackValues)||void 0===t?void 0:t[r])||this.getDefaultFallback(e)}},e.prototype.handleIgnoreStrategy=function(e){return console.warn("âš ï¸ Ignoring error as per strategy:",e.message),{handled:!0}},e.prototype.handleEscalateStrategy=function(e,t){return s(this,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return console.error("ðŸš¨ Escalating error:",e),[4,this.escalateError(e,t)];case 1:return r.sent(),[2,{handled:!0}]}})})},e.prototype.handleUserActionStrategy=function(e){return console.log("ðŸ‘¤ Requiring user action for error:",e.message),this.config.userNotification&&this.notifyUser(e),{handled:!0}},e.prototype.safeAsync=function(e,t){return s(this,arguments,void 0,function(e,t,r){var n,o;return void 0===r&&(r=a.RETRY),u(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,4]),[4,e()];case 1:return[2,a.sent()];case 2:return n=a.sent(),[4,this.handleError(n instanceof Error?n:new Error(String(n)),r)];case 3:if((o=a.sent()).handled&&void 0!==o.result)return[2,o.result];if(o.shouldRetry)return[2,this.safeAsync(e,t,r)];if(void 0!==t)return[2,t];throw n;case 4:return[2]}})})},e.prototype.safeSync=function(e,t,r){void 0===r&&(r=a.FALLBACK);try{return e()}catch(e){if(console.error("Sync operation failed:",e),r===a.FALLBACK&&void 0!==t)return t;throw e}},e.prototype.validate=function(e,t,r){for(var n=0,o=t;n<o.length;n++){var a=(0,o[n])(e);if(!0!==a){var i="string"==typeof a?a:"Validation failed for ".concat(r||"value");throw new p(i,r,e)}}return e},e.prototype.safeGet=function(e,t,r){try{for(var n=t.split("."),o=e,a=0,i=n;a<i.length;a++){var c=i[a];if(null==o)return r;o=o[c]}return void 0!==o?o:r}catch(e){return console.warn('Safe get failed for path "'.concat(t,'":'),e),r}},e.prototype.resetErrorCounts=function(){this.errorCounts.clear(),console.log("ðŸ”„ Error counts reset")},e.prototype.getErrorStats=function(){return Object.fromEntries(this.errorCounts)},e.prototype.getErrorKey=function(e){return"".concat(e.constructor.name,":").concat(e.message)},e.prototype.logError=function(e,t,r){var n=t===o.CRITICAL||t===o.HIGH?"error":t===o.MEDIUM?"warn":"log";console[n]("[".concat(t.toUpperCase(),"] Error (count: ").concat(r+1,"):"),{error:e instanceof l?e.toJSON():e,context:this.context,timestamp:(new Date).toISOString()})},e.prototype.reportError=function(e,t){return s(this,void 0,void 0,function(){var r;return u(this,function(n){try{r={error:e instanceof l?e.toJSON():{name:e.name,message:e.message,stack:e.stack},severity:t,context:this.context,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href},console.log("ðŸ“Š Error Report (TODO: Send to service):",r)}catch(e){console.error("Failed to report error:",e)}return[2]})})},e.prototype.getDefaultFallback=function(e){return e instanceof p?null:e instanceof h?{error:"Network unavailable",offline:!0}:{error:"Operation failed",fallback:!0}},e.prototype.escalateError=function(e,t){return s(this,void 0,void 0,function(){return u(this,function(r){return console.error("ðŸš¨ ESCALATED ERROR:",{error:e,severity:t,context:this.context}),[2]})})},e.prototype.notifyUser=function(e){console.log("ðŸ‘¤ User notification needed for:",e.message)},e.prototype.delay=function(e){return new Promise(function(t){return setTimeout(t,e)})},e}(),v=(new d({maxRetries:3,retryDelay:1e3,enableLogging:!0,enableReporting:!0,userNotification:!0},{pluginId:"PluginTemplate",component:"global"}),{isRecoverable:function(e){return e instanceof l?e.recoverable:e instanceof h||!(e instanceof p)},getUserMessage:function(e){return e instanceof p?"Please check your input: ".concat(e.message):e instanceof h?"Network connection issue. Please try again.":e instanceof f?"Service temporarily unavailable: ".concat(e.service):"An unexpected error occurred. Please try again."},normalizeError:function(e){return e instanceof Error?e:"string"==typeof e?new Error(e):e&&"object"==typeof e&&"message"in e?new Error(String(e.message)):new Error("Unknown error occurred")}})},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848:(e,t,r)=>{e.exports=r(20)}}]);