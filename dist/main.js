/*! For license information please see main.js.LICENSE.txt */
var PluginTemplateFunctional;(()=>{"use strict";var e={20:(e,n,r)=>{var t=r(594),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,r){var t,l={},c=null,u=null;for(t in void 0!==r&&(c=""+r),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)i.call(n,t)&&!s.hasOwnProperty(t)&&(l[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===l[t]&&(l[t]=n[t]);return{$$typeof:o,type:e,key:c,ref:u,props:l,_owner:a.current}}n.jsx=l,n.jsxs=l},56:(e,n,r)=>{e.exports=function(e){var n=r.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function r(e){for(var r=-1,t=0;t<n.length;t++)if(n[t].identifier===e){r=t;break}return r}function t(e,t){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=t.base?l[0]+t.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var p=r(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var g=o(f,t);t.byIndex=s,n.splice(s,0,{identifier:d,updater:g,references:1})}a.push(d)}return a}function o(e,n){var r=n.domAPI(n);return r.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;r.update(e=n)}else r.remove()}}e.exports=function(e,o){var i=t(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=r(i[a]);n[s].references--}for(var l=t(e,o),c=0;c<i.length;c++){var u=r(i[c]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}i=l}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var r="",t=void 0!==n[5];return n[4]&&(r+="@supports (".concat(n[4],") {")),n[2]&&(r+="@media ".concat(n[2]," {")),t&&(r+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),r+=e(n),t&&(r+="}"),n[2]&&(r+="}"),n[4]&&(r+="}"),r}).join("")},n.i=function(e,r,t,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(t)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);t&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u))}},n}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},594:e=>{e.exports=React},601:e=>{e.exports=function(e){return e[1]}},617:(e,n,r)=>{r.d(n,{Kk:()=>i,_7:()=>d,cZ:()=>u,o4:()=>h,yI:()=>p,zc:()=>g});var t,o,i,a=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),s=function(){return s=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},s.apply(this,arguments)},l=function(e,n,r,t){return new(r||(r=Promise))(function(o,i){function a(e){try{l(t.next(e))}catch(e){i(e)}}function s(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(a,s)}l((t=t.apply(e,n||[])).next())})},c=function(e,n){var r,t,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,t&&(o=2&s[0]?t.return:s[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,s[1])).done)return o;switch(t=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,t=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],t=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},u=function(e){function n(r,t,o,i){void 0===t&&(t="PLUGIN_ERROR"),void 0===i&&(i=!0);var a=e.call(this,r)||this;return a.name="PluginError",a.code=t,a.details=o,a.timestamp=(new Date).toISOString(),a.recoverable=i,Error.captureStackTrace&&Error.captureStackTrace(a,n),a}return a(n,e),n.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,details:this.details,timestamp:this.timestamp,recoverable:this.recoverable,stack:this.stack}},n}(Error),d=function(e){function n(n,r,t,o,i){void 0===t&&(t="SERVICE_ERROR"),void 0===i&&(i=!0);var a=e.call(this,n,t,o,i)||this;return a.name="ServiceError",a.service=r,a}return a(n,e),n.prototype.toJSON=function(){return s(s({},e.prototype.toJSON.call(this)),{service:this.service})},n}(u),p=function(e){function n(n,r,t,o){void 0===o&&(o="VALIDATION_ERROR");var i=e.call(this,n,o,{field:r,value:t},!1)||this;return i.name="ValidationError",i.field=r,i.value=t,i}return a(n,e),n.prototype.toJSON=function(){return s(s({},e.prototype.toJSON.call(this)),{field:this.field,value:this.value})},n}(u),f=(function(e){function n(n,r,t){void 0===t&&(t="CONFIG_ERROR");var o=e.call(this,n,t,{configKey:r},!1)||this;return o.name="ConfigurationError",o.configKey=r,o}a(n,e),n.prototype.toJSON=function(){return s(s({},e.prototype.toJSON.call(this)),{configKey:this.configKey})}}(u),function(e){function n(n,r,t,o){void 0===o&&(o="NETWORK_ERROR");var i=e.call(this,n,"network",o,{status:r,url:t},!0)||this;return i.name="NetworkError",i.status=r,i.url=t,i}return a(n,e),n.prototype.toJSON=function(){return s(s({},e.prototype.toJSON.call(this)),{status:this.status,url:this.url})},n}(d));!function(e){e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical"}(o||(o={})),function(e){e.RETRY="retry",e.FALLBACK="fallback",e.IGNORE="ignore",e.ESCALATE="escalate",e.USER_ACTION="user_action"}(i||(i={}));var g=function(){function e(e,n){void 0===e&&(e={}),void 0===n&&(n={}),this.errorCounts=new Map,this.config=s({maxRetries:3,retryDelay:1e3,enableLogging:!0,enableReporting:!0,userNotification:!0},e),this.context=n}return e.prototype.handleError=function(e){return l(this,arguments,void 0,function(e,n,r){var t,a;return void 0===n&&(n=i.RETRY),void 0===r&&(r=o.MEDIUM),c(this,function(o){switch(o.label){case 0:return t=this.getErrorKey(e),a=this.errorCounts.get(t)||0,this.config.enableLogging&&this.logError(e,r,a),this.config.enableReporting?[4,this.reportError(e,r)]:[3,2];case 1:o.sent(),o.label=2;case 2:switch(this.errorCounts.set(t,a+1),n){case i.RETRY:return[2,this.handleRetryStrategy(e,a)];case i.FALLBACK:return[2,this.handleFallbackStrategy(e)];case i.IGNORE:return[2,this.handleIgnoreStrategy(e)];case i.ESCALATE:return[2,this.handleEscalateStrategy(e,r)];case i.USER_ACTION:return[2,this.handleUserActionStrategy(e)];default:return[2,{handled:!1}]}return[2]}})})},e.prototype.handleRetryStrategy=function(e,n){return l(this,void 0,void 0,function(){var r;return c(this,function(t){switch(t.label){case 0:return r=this.config.maxRetries||3,n<r?(console.log("üîÑ Retrying operation (attempt ".concat(n+1,"/").concat(r,")")),this.config.retryDelay?[4,this.delay(this.config.retryDelay*Math.pow(2,n))]:[3,2]):[3,3];case 1:t.sent(),t.label=2;case 2:return[2,{handled:!0,shouldRetry:!0}];case 3:return console.error("‚ùå Max retries (".concat(r,") exceeded for error:"),e),[2,{handled:!1,shouldRetry:!1}]}})})},e.prototype.handleFallbackStrategy=function(e){var n;console.log("üîÑ Using fallback strategy for error:",e.message);var r=e.constructor.name.toLowerCase();return{handled:!0,result:(null===(n=this.config.fallbackValues)||void 0===n?void 0:n[r])||this.getDefaultFallback(e)}},e.prototype.handleIgnoreStrategy=function(e){return console.warn("‚ö†Ô∏è Ignoring error as per strategy:",e.message),{handled:!0}},e.prototype.handleEscalateStrategy=function(e,n){return l(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return console.error("üö® Escalating error:",e),[4,this.escalateError(e,n)];case 1:return r.sent(),[2,{handled:!0}]}})})},e.prototype.handleUserActionStrategy=function(e){return console.log("üë§ Requiring user action for error:",e.message),this.config.userNotification&&this.notifyUser(e),{handled:!0}},e.prototype.safeAsync=function(e,n){return l(this,arguments,void 0,function(e,n,r){var t,o;return void 0===r&&(r=i.RETRY),c(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,e()];case 1:return[2,i.sent()];case 2:return t=i.sent(),[4,this.handleError(t instanceof Error?t:new Error(String(t)),r)];case 3:if((o=i.sent()).handled&&void 0!==o.result)return[2,o.result];if(o.shouldRetry)return[2,this.safeAsync(e,n,r)];if(void 0!==n)return[2,n];throw t;case 4:return[2]}})})},e.prototype.safeSync=function(e,n,r){void 0===r&&(r=i.FALLBACK);try{return e()}catch(e){if(console.error("Sync operation failed:",e),r===i.FALLBACK&&void 0!==n)return n;throw e}},e.prototype.validate=function(e,n,r){for(var t=0,o=n;t<o.length;t++){var i=(0,o[t])(e);if(!0!==i){var a="string"==typeof i?i:"Validation failed for ".concat(r||"value");throw new p(a,r,e)}}return e},e.prototype.safeGet=function(e,n,r){try{for(var t=n.split("."),o=e,i=0,a=t;i<a.length;i++){var s=a[i];if(null==o)return r;o=o[s]}return void 0!==o?o:r}catch(e){return console.warn('Safe get failed for path "'.concat(n,'":'),e),r}},e.prototype.resetErrorCounts=function(){this.errorCounts.clear(),console.log("üîÑ Error counts reset")},e.prototype.getErrorStats=function(){return Object.fromEntries(this.errorCounts)},e.prototype.getErrorKey=function(e){return"".concat(e.constructor.name,":").concat(e.message)},e.prototype.logError=function(e,n,r){var t=n===o.CRITICAL||n===o.HIGH?"error":n===o.MEDIUM?"warn":"log";console[t]("[".concat(n.toUpperCase(),"] Error (count: ").concat(r+1,"):"),{error:e instanceof u?e.toJSON():e,context:this.context,timestamp:(new Date).toISOString()})},e.prototype.reportError=function(e,n){return l(this,void 0,void 0,function(){var r;return c(this,function(t){try{r={error:e instanceof u?e.toJSON():{name:e.name,message:e.message,stack:e.stack},severity:n,context:this.context,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href},console.log("üìä Error Report (TODO: Send to service):",r)}catch(e){console.error("Failed to report error:",e)}return[2]})})},e.prototype.getDefaultFallback=function(e){return e instanceof p?null:e instanceof f?{error:"Network unavailable",offline:!0}:{error:"Operation failed",fallback:!0}},e.prototype.escalateError=function(e,n){return l(this,void 0,void 0,function(){return c(this,function(r){return console.error("üö® ESCALATED ERROR:",{error:e,severity:n,context:this.context}),[2]})})},e.prototype.notifyUser=function(e){console.log("üë§ User notification needed for:",e.message)},e.prototype.delay=function(e){return new Promise(function(n){return setTimeout(n,e)})},e}(),h=(new g({maxRetries:3,retryDelay:1e3,enableLogging:!0,enableReporting:!0,userNotification:!0},{pluginId:"PluginTemplate",component:"global"}),{isRecoverable:function(e){return e instanceof u?e.recoverable:e instanceof f||!(e instanceof p)},getUserMessage:function(e){return e instanceof p?"Please check your input: ".concat(e.message):e instanceof f?"Network connection issue. Please try again.":e instanceof d?"Service temporarily unavailable: ".concat(e.service):"An unexpected error occurred. Please try again."},normalizeError:function(e){return e instanceof Error?e:"string"==typeof e?new Error(e):e&&"object"==typeof e&&"message"in e?new Error(String(e.message)):new Error("Unknown error occurred")}})},659:e=>{var n={};e.exports=function(e,r){var t=function(e){if(void 0===n[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},663:(e,n,r)=>{r.d(n,{A:()=>s});var t=r(601),o=r.n(t),i=r(314),a=r.n(i)()(o());a.push([e.id,"/* Plugin Template Styles - Following BrainDrive theme pattern */\n\n/* Light theme variables (default) */\n:root {\n  --plugin-bg-color: #ffffff;\n  --plugin-text-color: #333333;\n  --plugin-secondary-text: #666666;\n  --plugin-border-color: rgba(0, 0, 0, 0.12);\n  --plugin-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  --plugin-error-bg: #fee2e2;\n  --plugin-error-text: #b91c1c;\n  --plugin-button-bg: #4299e1;\n  --plugin-button-hover-bg: #3182ce;\n  --plugin-button-text: #ffffff;\n}\n\n/* Dark theme variables */\n.dark-theme {\n  --plugin-bg-color: #1e293b;\n  --plugin-text-color: #f8fafc;\n  --plugin-secondary-text: #cbd5e1;\n  --plugin-border-color: rgba(30, 41, 59, 0.8);\n  --plugin-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  --plugin-error-bg: #450a0a;\n  --plugin-error-text: #fecaca;\n  --plugin-button-bg: #3b82f6;\n  --plugin-button-hover-bg: #2563eb;\n  --plugin-button-text: #ffffff;\n}\n\n/* Main plugin container */\n.plugin-template {\n  background-color: var(--plugin-bg-color);\n  color: var(--plugin-text-color);\n  border-radius: 8px;\n  padding: 20px;\n  margin: 10px 0;\n  box-shadow: var(--plugin-card-shadow);\n  transition: all 0.3s ease;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n}\n\n/* Loading state */\n.plugin-template-loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 32px;\n  text-align: center;\n  flex: 1;\n}\n\n.loading-spinner {\n  width: 32px;\n  height: 32px;\n  border: 3px solid var(--plugin-border-color);\n  border-top: 3px solid var(--plugin-button-bg);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 16px;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.plugin-template-loading p {\n  margin: 0;\n  color: var(--plugin-secondary-text);\n  transition: color 0.3s ease;\n}\n\n/* Error state */\n.plugin-template-error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 32px;\n  text-align: center;\n  flex: 1;\n}\n\n.error-icon {\n  font-size: 32px;\n  margin-bottom: 16px;\n}\n\n.plugin-template-error p {\n  margin: 0;\n  color: var(--plugin-error-text);\n  background-color: var(--plugin-error-bg);\n  padding: 12px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n}\n\n/* Content layout */\n.plugin-template-content {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n\n.plugin-header {\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid var(--plugin-border-color);\n  transition: border-color 0.3s ease;\n}\n\n.plugin-header h3 {\n  margin: 0 0 8px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n\n.plugin-header p {\n  margin: 0;\n  color: var(--plugin-secondary-text);\n  font-size: 14px;\n  transition: color 0.3s ease;\n}\n\n/* Plugin info section */\n.plugin-info {\n  background-color: var(--plugin-bg-color);\n  border: 1px solid var(--plugin-border-color);\n  border-radius: 8px;\n  padding: 20px;\n  transition: all 0.3s ease;\n}\n\n.plugin-info h4 {\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n\n.info-grid {\n  display: grid;\n  gap: 16px;\n}\n\n.info-item {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.info-item strong {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--plugin-text-color);\n  transition: color 0.3s ease;\n}\n\n.info-item ul {\n  margin: 4px 0 0 0;\n  padding-left: 20px;\n  list-style: none;\n}\n\n.info-item li {\n  font-size: 14px;\n  color: var(--plugin-secondary-text);\n  margin-bottom: 4px;\n  transition: color 0.3s ease;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .plugin-template {\n    padding: 16px;\n    margin: 8px 0;\n  }\n  \n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n  .plugin-template {\n    border: 2px solid var(--plugin-text-color);\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  .plugin-template,\n  .plugin-header,\n  .plugin-info,\n  .info-item strong,\n  .info-item li,\n  .plugin-template-loading p {\n    transition: none;\n  }\n  \n  .loading-spinner {\n    animation: none;\n  }\n}",""]);const s=a},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(r){!function(e,n,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,o&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(t,e,n.options)}(n,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},848:(e,n,r)=>{e.exports=r(20)}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var t={};(()=>{r.r(t),r.d(t,{PluginTemplateFunctional:()=>k,default:()=>T});var e=r(848),n=r(594),o=r.n(n),i=r(72),a=r.n(i),s=r(825),l=r.n(s),c=r(659),u=r.n(c),d=r(56),p=r.n(d),f=r(540),g=r.n(f),h=r(113),m=r.n(h),v=r(663),y={};y.styleTagTransform=m(),y.setAttributes=p(),y.insert=u().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=g(),a()(v.A,y),v.A&&v.A.locals&&v.A.locals;var x=function(){return x=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},x.apply(this,arguments)};const b=function(n){var r=n.error,t=n.onRetry,i=n.onDismiss,a=n.className,s=void 0===a?"":a,l=n.showDetails,c=void 0!==l&&l,u=n.variant,d=void 0===u?"error":u,p=o().useState(!1),f=p[0],g=p[1],h="string"==typeof r?{message:r,timestamp:(new Date).toISOString()}:x({timestamp:(new Date).toISOString()},r),m=function(){switch(d){case"warning":return{backgroundColor:"#fff3cd",borderColor:"#ffeaa7",color:"#856404",icon:"‚ö†Ô∏è"};case"info":return{backgroundColor:"#d1ecf1",borderColor:"#bee5eb",color:"#0c5460",icon:"‚ÑπÔ∏è"};default:return{backgroundColor:"#f8d7da",borderColor:"#f5c6cb",color:"#721c24",icon:"‚ùå"}}}();return(0,e.jsx)("div",{className:"error-display ".concat(s),style:{padding:"12px",margin:"8px 0",border:"1px solid ".concat(m.borderColor),borderRadius:"6px",backgroundColor:m.backgroundColor,color:m.color,fontFamily:"Arial, sans-serif"},children:(0,e.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,e.jsx)("div",{className:"error-icon",style:{fontSize:"16px",flexShrink:0},children:m.icon}),(0,e.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,e.jsx)("p",{className:"error-message",style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"500",wordBreak:"break-word"},children:h.message}),i&&(0,e.jsx)("button",{onClick:i,style:{background:"none",border:"none",fontSize:"16px",cursor:"pointer",padding:"0",marginLeft:"8px",color:m.color,opacity:.7},title:"Dismiss error",children:"√ó"})]}),h.code&&(0,e.jsxs)("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"4px"},children:[(0,e.jsx)("strong",{children:"Error Code:"})," ",h.code]}),h.timestamp&&(0,e.jsx)("div",{style:{fontSize:"11px",opacity:.7,marginBottom:"8px"},children:new Date(h.timestamp).toLocaleString()}),c&&(h.details||h.stack)&&(0,e.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,e.jsx)("button",{onClick:function(){return g(!f)},style:{background:"none",border:"1px solid ".concat(m.color),color:m.color,padding:"2px 6px",fontSize:"10px",borderRadius:"3px",cursor:"pointer",opacity:.8},children:f?"Hide Details":"Show Details"}),f&&(0,e.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"4px",fontSize:"11px",fontFamily:"monospace",maxHeight:"200px",overflow:"auto"},children:[h.details&&(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Details:"}),(0,e.jsx)("pre",{style:{margin:"4px 0",whiteSpace:"pre-wrap"},children:JSON.stringify(h.details,null,2)})]}),h.stack&&(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Stack Trace:"}),(0,e.jsx)("pre",{style:{margin:"4px 0",whiteSpace:"pre-wrap"},children:h.stack})]})]})]}),(0,e.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[t&&(0,e.jsx)("button",{onClick:t,className:"retry-button",style:{padding:"6px 12px",backgroundColor:m.color,color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Try Again"}),c&&(0,e.jsx)("button",{onClick:function(){var e="Error: ".concat(h.message,"\nCode: ").concat(h.code||"N/A","\nTime: ").concat(h.timestamp,"\nDetails: ").concat(JSON.stringify(h.details,null,2));navigator.clipboard.writeText(e).then(function(){console.log("Error details copied to clipboard")}).catch(function(e){console.warn("Failed to copy error details:",e)})},style:{padding:"6px 12px",backgroundColor:"transparent",color:m.color,border:"1px solid ".concat(m.color),borderRadius:"4px",fontSize:"12px",cursor:"pointer"},title:"Copy error details to clipboard",children:"Copy Details"})]})]})]})})};var S,w=(S=function(e,n){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},S(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}S(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});const E=function(n){function r(e){var r=n.call(this,e)||this;return r.resetTimeoutId=null,r.reportError=function(e,n){try{var t={message:e.message,stack:e.stack,componentStack:n.componentStack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorId:r.state.errorId};console.log("üìä Error Report (TODO: Send to monitoring service):",t)}catch(e){console.error("ErrorBoundary: Failed to report error:",e)}},r.resetErrorBoundary=function(){console.log("üîÑ ErrorBoundary: Resetting error state"),r.setState({hasError:!1,error:null,errorInfo:null,errorId:null})},r.handleRetry=function(){console.log("üîÑ ErrorBoundary: User initiated retry"),r.resetErrorBoundary()},r.handleAutoRetry=function(e){void 0===e&&(e=5e3),console.log("‚è∞ ErrorBoundary: Auto-retry scheduled in ".concat(e,"ms")),r.resetTimeoutId=window.setTimeout(function(){console.log("üîÑ ErrorBoundary: Auto-retry executing"),r.resetErrorBoundary()},e)},r.createErrorInfo=function(){var e=r.state,n=e.error,t=e.errorInfo,o=e.errorId;return{message:(null==n?void 0:n.message)||"An unexpected error occurred",code:(null==n?void 0:n.name)||"COMPONENT_ERROR",details:{stack:null==n?void 0:n.stack,componentStack:null==t?void 0:t.componentStack,errorId:o,timestamp:(new Date).toISOString(),props:r.props.children?"Component tree present":"No component tree"},timestamp:(new Date).toISOString(),stack:null==n?void 0:n.stack}},r.state={hasError:!1,error:null,errorInfo:null,errorId:null},r}return w(r,n),r.getDerivedStateFromError=function(e){return{hasError:!0,error:e,errorId:"error_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}},r.prototype.componentDidCatch=function(e,n){if(console.group("üö® ErrorBoundary: Component Error Caught"),console.error("Error:",e),console.error("Error Info:",n),console.error("Component Stack:",n.componentStack),console.groupEnd(),this.setState({error:e,errorInfo:n,errorId:"error_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}),this.props.onError)try{this.props.onError(e,n)}catch(e){console.error("ErrorBoundary: Error in custom error handler:",e)}this.reportError(e,n)},r.prototype.componentDidUpdate=function(e){var n=this.props,r=n.resetOnPropsChange,t=n.resetKeys,o=this.state.hasError;o&&t&&e.resetKeys&&t.some(function(n,r){return n!==e.resetKeys[r]})&&this.resetErrorBoundary(),o&&r&&e.children!==this.props.children&&this.resetErrorBoundary()},r.prototype.componentWillUnmount=function(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId)},r.prototype.render=function(){var n=this,r=this.state.hasError,t=this.props,o=t.children,i=t.fallback;if(r){if(i)return i;var a=this.createErrorInfo();return(0,e.jsxs)("div",{style:{padding:"20px",margin:"10px",border:"2px solid #ff6b6b",borderRadius:"8px",backgroundColor:"#fff5f5",fontFamily:"Arial, sans-serif"},children:[(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",fontSize:"18px",fontWeight:"bold",color:"#d63031"},children:"üö® Component Error"}),(0,e.jsx)(b,{error:a,onRetry:this.handleRetry,showDetails:!0,variant:"error"}),(0,e.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",fontSize:"12px",color:"#6c757d"},children:[(0,e.jsx)("div",{style:{marginBottom:"8px"},children:(0,e.jsx)("strong",{children:"üîß Troubleshooting Tips:"})}),(0,e.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px"},children:[(0,e.jsx)("li",{children:"Check the browser console for additional error details"}),(0,e.jsx)("li",{children:"Verify that all required props are provided correctly"}),(0,e.jsx)("li",{children:"Ensure all dependencies are properly imported"}),(0,e.jsx)("li",{children:"Check for any recent changes that might have caused this error"}),(0,e.jsx)("li",{children:"Try refreshing the page if this is a temporary issue"})]})]}),(0,e.jsxs)("div",{style:{marginTop:"12px",display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,e.jsx)("button",{onClick:function(){return n.handleAutoRetry(1e3)},style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Auto-Retry in 1s"}),(0,e.jsx)("button",{onClick:function(){return window.location.reload()},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Reload Page"})]})]})}return o},r}(n.Component);var j=r(617),R=function(e,n,r,t){return new(r||(r=Promise))(function(o,i){function a(e){try{l(t.next(e))}catch(e){i(e)}}function s(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(a,s)}l((t=t.apply(e,n||[])).next())})},C=function(e,n){var r,t,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,t&&(o=2&s[0]?t.return:s[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,s[1])).done)return o;switch(t=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,t=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e],t=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const k=function(r){var t=r.title,o=void 0===t?"Plugin Template (Functional)":t,i=r.description,a=void 0===i?"A functional component template for BrainDrive plugins with React Hooks":i,s=r.services,l=r.moduleId,c=r.config,u=r.pluginId,d=r.instanceId,p=(0,n.useState)(!1),f=(p[0],p[1]),g=(0,n.useState)(""),h=g[0],m=g[1],v=(0,n.useState)("light"),y=v[0],x=v[1],S=(0,n.useState)(!0),w=S[0],k=S[1],T=(0,n.useState)(null),O=(T[0],T[1],(0,n.useState)(null)),I=O[0],N=O[1],P=(0,n.useState)(!1),A=P[0],_=P[1],D=(0,n.useRef)(0),F=(0,n.useRef)(3),L=(0,n.useRef)(null),z=(0,n.useRef)(null),M=(0,n.useRef)(null);M.current||(M.current=new j.zc({maxRetries:F.current,retryDelay:1e3,enableLogging:!0,enableReporting:!0,userNotification:!0,fallbackValues:{plugindata:null,theme:"light",settings:{}}},{component:"PluginTemplateFunctional",pluginId:u||"PluginTemplateFunctional",moduleId:l||"main"}));var B,U=M.current,K=(0,n.useCallback)(function(e,n){var r=j.o4.normalizeError(e),t=new j.cZ("Component error in ".concat(n,": ").concat(r.message),"COMPONENT_ERROR",{context:n,originalError:r},!0);console.error("PluginTemplateFunctional: ".concat(n," error:"),t),m(j.o4.getUserMessage(t)),k(!1),f(!1),N(t),_(D.current<F.current)},[]),J=(0,n.useCallback)(function(){return R(void 0,void 0,void 0,function(){return C(this,function(e){return D.current>=F.current?(console.warn("PluginTemplateFunctional: Max retries exceeded"),_(!1),[2]):(D.current++,console.log("PluginTemplateFunctional: Retry attempt ".concat(D.current,"/").concat(F.current)),f(!0),m(""),N(null),k(!0),[2])})})},[]),H=(0,n.useCallback)(function(){m(""),N(null),_(!1)},[]),G=(0,n.useCallback)(function(){return R(void 0,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return[4,U.safeAsync(function(){return R(void 0,void 0,void 0,function(){var e;return C(this,function(n){return s.theme?(e=U.safeSync(function(){return s.theme.getCurrentTheme()},"light"),x(e),L.current=function(e){U.safeSync(function(){x(e)})},s.theme.addThemeChangeListener(L.current),console.log("PluginTemplateFunctional: Theme service initialized successfully")):console.warn("PluginTemplateFunctional: Theme service not available"),[2]})})},void 0,j.Kk.FALLBACK).catch(function(e){throw new j._7("Failed to initialize theme service","theme","THEME_INIT_ERROR",e)})];case 1:return e.sent(),[4,U.safeAsync(function(){return R(void 0,void 0,void 0,function(){return C(this,function(e){return s.pageContext?(z.current=s.pageContext.onPageContextChange(function(e){U.safeSync(function(){console.log("PluginTemplateFunctional: Page context changed:",e)})}),console.log("PluginTemplateFunctional: Page context service initialized successfully")):console.warn("PluginTemplateFunctional: Page context service not available"),[2]})})},void 0,j.Kk.FALLBACK).catch(function(e){throw new j._7("Failed to initialize page context service","pageContext","PAGE_CONTEXT_INIT_ERROR",e)})];case 2:return e.sent(),[4,U.safeAsync(function(){return R(void 0,void 0,void 0,function(){var e,n,r,t,o;return C(this,function(i){switch(i.label){case 0:if(!s.settings)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,null===(o=(t=s.settings).getSetting)||void 0===o?void 0:o.call(t,"plugin_template_config")];case 2:return(e=i.sent())&&(n=U.validate(e,[function(e){return"object"==typeof e||"Configuration must be an object"},function(e){return null!==e||"Configuration cannot be null"}],"plugin_template_config"),console.log("PluginTemplateFunctional: Loaded and validated saved config:",n)),console.log("PluginTemplateFunctional: Settings service initialized successfully"),[3,4];case 3:if(!((r=i.sent())instanceof j.yI))throw new j._7("Failed to load settings","settings","SETTINGS_LOAD_ERROR",r);return console.error("PluginTemplateFunctional: Invalid configuration:",r),[3,4];case 4:return[3,6];case 5:console.warn("PluginTemplateFunctional: Settings service not available"),i.label=6;case 6:return[2]}})})},void 0,j.Kk.FALLBACK)];case 3:return e.sent(),console.log("PluginTemplateFunctional: All services initialized"),[2]}})})},[s,U]),W=(0,n.useCallback)(function(){U.safeSync(function(){s.theme&&L.current&&(s.theme.removeThemeChangeListener(L.current),L.current=null,console.log("PluginTemplateFunctional: Theme service cleaned up"))}),U.safeSync(function(){z.current&&(z.current(),z.current=null,console.log("PluginTemplateFunctional: Page context service cleaned up"))}),U.resetErrorCounts(),console.log("PluginTemplateFunctional: All services cleaned up successfully")},[s,U]),Y=(0,n.useCallback)(function(){return R(void 0,void 0,void 0,function(){return C(this,function(e){return f(!1),m(""),[2]})})},[]);return(0,n.useEffect)(function(){if(w)return R(void 0,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return[4,U.safeAsync(function(){return R(void 0,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return[4,G()];case 1:return e.sent(),[4,Y()];case 2:return e.sent(),k(!1),m(""),N(null),_(!1),[2]}})})},void 0,j.Kk.RETRY).catch(function(e){K(e,"initialization")})];case 1:return e.sent(),[2]}})}),function(){W()}},[w,G,Y,U,K,W]),(0,e.jsx)(E,{onError:function(e,n){console.error("PluginTemplateFunctional: React Error Boundary caught error:",e,n)},resetOnPropsChange:!0,resetKeys:[u||"unknown",l||"unknown"],children:(0,e.jsx)("div",{className:"plugin-template ".concat("dark"===y?"dark-theme":""),children:w?(0,e.jsxs)("div",{className:"plugin-template-loading",children:[(0,e.jsx)("div",{className:"loading-spinner"}),(0,e.jsx)("p",{children:"Loading..."})]}):h?(B=I?{message:h||I.message,code:I instanceof j.cZ?I.code:"UNKNOWN_ERROR",details:I instanceof j.cZ?I.details:void 0,timestamp:I instanceof j.cZ?I.timestamp:(new Date).toISOString(),stack:I.stack}:{message:h||"An unknown error occurred",timestamp:(new Date).toISOString()},(0,e.jsxs)("div",{className:"plugin-template-error",children:[(0,e.jsx)(b,{error:B,onRetry:A?J:void 0,onDismiss:H,showDetails:!0,variant:"error"}),!1]})):U.safeSync(function(){return function(){var n,r=null===(n=s.pageContext)||void 0===n?void 0:n.getCurrentPageContext();return(0,e.jsxs)("div",{className:"plugin-template-content",children:[(0,e.jsxs)("div",{className:"plugin-header",children:[(0,e.jsx)("h3",{children:o}),(0,e.jsx)("p",{children:a})]}),(0,e.jsxs)("div",{className:"plugin-info",children:[(0,e.jsx)("h4",{children:"Plugin Information"}),(0,e.jsxs)("div",{className:"info-grid",children:[(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Plugin ID:"})," ",u||"Not provided"]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Module ID:"})," ",l||"Not provided"]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Instance ID:"})," ",d||"Not provided"]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Current Theme:"})," ",y]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Configuration:"}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:["Refresh Interval: ",(null==c?void 0:c.refreshInterval)||"Not set"]}),(0,e.jsxs)("li",{children:["Show Advanced Options: ",(null==c?void 0:c.showAdvancedOptions)?"Yes":"No"]}),(0,e.jsxs)("li",{children:["Custom Setting: ",(null==c?void 0:c.customSetting)||"Not set"]})]})]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Page Context:"}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:["Page ID: ",(null==r?void 0:r.pageId)||"Not available"]}),(0,e.jsxs)("li",{children:["Page Name: ",(null==r?void 0:r.pageName)||"Not available"]}),(0,e.jsxs)("li",{children:["Page Route: ",(null==r?void 0:r.pageRoute)||"Not available"]}),(0,e.jsxs)("li",{children:["Is Studio Page: ",(null==r?void 0:r.isStudioPage)?"Yes":"No"]})]})]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Services Available:"}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:["API: ",s.api?"‚úÖ":"‚ùå"]}),(0,e.jsxs)("li",{children:["Event: ",s.event?"‚úÖ":"‚ùå"]}),(0,e.jsxs)("li",{children:["Theme: ",s.theme?"‚úÖ":"‚ùå"]}),(0,e.jsxs)("li",{children:["Settings: ",s.settings?"‚úÖ":"‚ùå"]}),(0,e.jsxs)("li",{children:["Page Context: ",s.pageContext?"‚úÖ":"‚ùå"]})]})]})]})]}),(0,e.jsxs)("div",{className:"plugin-info",style:{marginTop:"20px"},children:[(0,e.jsx)("h4",{children:"React Hooks Used in This Component"}),(0,e.jsxs)("div",{className:"info-grid",children:[(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"State Management:"}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:"useState - for component state (loading, error, theme, etc.)"}),(0,e.jsx)("li",{children:"useRef - for mutable values (retryCount, listeners)"})]})]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Side Effects:"}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:"useEffect - for initialization and cleanup"}),(0,e.jsx)("li",{children:"Dependencies properly managed to prevent infinite loops"})]})]}),(0,e.jsxs)("div",{className:"info-item",children:[(0,e.jsx)("strong",{children:"Performance:"}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:"useCallback - memoized event handlers"}),(0,e.jsx)("li",{children:"Prevents unnecessary re-renders"})]})]})]})]})]})}()},(0,e.jsx)(b,{error:"Failed to render plugin content",onRetry:J,variant:"error"}))})})},T=k})(),PluginTemplateFunctional=t})();